<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正则表达式高级</title>
</head>
<body>
    <script>
        // 正则表达式初末位字符
        // 原始方法
        var regExp = new RegExp('abc','gi')
        var str = '12abc12abABC'
        var result = regExp.exec(str)
        console.log(result);
        if(result.index === 0){
            console.log('该字符串以abc开头')
        }else{
            console.log('该字符串不以abc开头');
        }

        // 使用末位字符方法
        var regExp1 = new RegExp('^abc','gi')
        if(regExp1.test(str)){
            console.log('该字符串以abc开头')
        }else{
            console.log('该字符串不以abc开头');
        }

        var regExp2 = new RegExp('abc$','gi')
        if(regExp2.test(str)){
            console.log('该字符串以abc结尾')
        }else{
            console.log('该字符串不以abc结尾');
        }

        var str1 = 'abc'
        var regExp3 = new RegExp('^abc$','gi')
        if(regExp3.test(str1)){
            console.log('是')
        }else{
            console.log('否');
        }

        // 重复类
        var regExp4 = new RegExp('[a-z]{2}','g')
        var string = '12abcabc12abccba'
        console.log(string.match(regExp4));

        // 判断手机号是否合法
        var phoneNumber = '17244264967'
        var reg = /^[1][3,4,5,7,8][0-9]{9}&/
        if(reg.test(phoneNumber)){
            console.log('合法手机号');
        }else{
            console.log('不合法');
        }

        // 普通正则
        var str = 'a1abb2ab3baab'
        var newStr = str.match(/[a-z]/g)
        console.log(newStr)
        
        // 贪婪模式
        var str = 'a1abb2ab3baab'
        var newStr = str.match(/[a-z]*/g)
        console.log(newStr)

        // 懒惰模式
        var str = 'a1abb2ab3baab'
        var newStr = str.match(/[a-z]?/g)
        console.log(newStr)

        // 不出现空字符串
        var str2 = 'a1abb2ab3baab'
        var newStr1 = str.match(/a[a-z]*/g)
        console.log(newStr1)

        var regExp5 = new RegExp('t{2,3}','g')
        var string1 = 'tttext'
        var result1 = string1.match(regExp5)
        console.log(result1);

        // 贪婪模式
        var regExp6 = /8[a-zA-Z0-9]*7/g
        var string2 = 'abc8defghij7klngon8qrstwxy7'
        var result2 = string2.match(regExp6)
        console.log(result2)

        // 懒惰模式
        var regExp6 = /8[a-zA-Z0-9]*?7/g
        var string2 = 'abc8defghij7klngon8qrstwxy7'
        var result2 = string2.match(regExp6)
        console.log(result2)

        // 脱字符
        var text = "<img width='200px;'/><img width='300px;'/><img width='400px;'/>"
        var regExp7 = /<img\/>/gi
        var result3 = text.match(regExp7)
        console.log(result3)    // unll

        var regExp8 = new RegExp('[^abc]','gi')
        // 表示出现不是abc中的任意一个就符合该正则
        var string3 = '12abcabc12abccab'
        var result4 = string.match(regExp8)
        console.log(result4);

        var regExp9 = new RegExp('[^abc]{2}','gi')
        // 表示连续两个出现的字符[不是abc中的任意一个]就符合该正则
        var string4 = '12^abcabc12^abccab'
        var result5 = string.match(regExp9)
        console.log(result5);

        // 使用脱字符解决img的问题
        var test = "<img width='200px;'/><img width='300px;'/><img width='400px;'/>"
        var regExp10 = /<img[^>]*\/>/gi
        // 声明<img和/>之间的字符只有不是>就继续判断
        var result6 = text.match(regExp10)
        console.log(result6)

        var string5 = '6213gsadjhsad68尚学堂'
        var reg = /[^34ab]/gi
        var result7 = string5.match(reg)
        console.log(result7);   // ["6", "2", "1", "g", "s", "d", "j", "h", "s", "d", "6", "8", "尚", "学", "堂"]
        
        var reg1 = /[^34ab]+/gi
        var result8 = string5.match(reg1)
        console.log(result8);   // ["621", "gs", "djhs", "d68尚学堂"]
    </script>
    
</body>
</html>